<?php
    $covered_area = [
        33157 => "Junk King Miami South",
        83714 => "Junk King Boise"
    ];
    $price = [
        "Category_Price" => [
            ["StartingPrice" =>75.00,"EndingPrice" =>138.00],
            ["StartingPrice" =>138.00,"EndingPrice" =>158.00],
            ["StartingPrice" =>158.00, "EndingPrice" =>188.00],
            ["StartingPrice" =>188.00,"EndingPrice" =>238.00],
            ["StartingPrice" =>238.00,"EndingPrice" =>278.00],
            ["StartingPrice" =>278.00,"EndingPrice" =>318.00],
            ["StartingPrice" =>318.00,"EndingPrice" =>358.00],
            ["StartingPrice" =>358.00,"EndingPrice" =>398.00],
            ["StartingPrice" =>398.00,"EndingPrice" =>438.00],
            ["StartingPrice" =>438.00,"EndingPrice" =>458.00],
            ["StartingPrice" =>458.00,"EndingPrice" =>478.00],
            ["StartingPrice" =>478.00,"EndingPrice" =>508.00],
            ["StartingPrice" =>508.00,"EndingPrice" =>580.00]
        ],
        "Items_Price" => [
            [
                "name" => "Couches \u0026 Chairs",
                "item" => "Couches_and_Chairs",
                "items" => [
                    [
                        "name" => "Chair",
                        "volume" => 0.025641,
                        "offset" => -20.00,
                        "item" => "diningchair"
                    ],
                    [
                        "name" => "Couch w/ sleeper-recliner",
                        "volume" => 0.100000,
                        "offset" => 40.00,
                        "item" => "sleeper-sofa"
                    ],
                    [
                        "name" => "Couch/Sofa",
                        "volume" => 0.100000,
                        "offset" => 20.00,
                        "item" => "couch"
                    ],
                    [
                        "name" => "Loveseat",
                        "volume" => 0.100000,
                        "offset" => -10.00,
                        "item" => "loveseat"
                    ],
                    [
                        "name" => "Recliner",
                        "volume" => 0.076923,
                        "offset" => 20.00,
                        "item" => "armchair"
                    ],
                    [
                        "name" => "Sectional (2 piece)",
                        "volume" => 0.166667,
                        "offset" => 10.00,
                        "item" => "sectional2pc"
                    ],
                    [
                        "name" => "Sectional (3 piece)",
                        "volume" => 0.250000,
                        "offset" => 40.00,
                        "item" => "sectional3pc"
                    ]
                ]
            ],
            [
                "name" => "Tables \u0026 Dressers",
                "item" => "Tables_and_Dressers",
                "items" => [
                    [
                        "name" => "Desk",
                        "volume" => 0.066667,
                        "offset" => 10.00,
                        "item" => "desk"
                    ],
                    [
                        "name" => "Dresser",
                        "volume" => 0.066667,
                        "offset" => 10.00,
                        "item" => "dresser"
                    ],
                    [
                        "name" => "Entertainment Center (large)",
                        "volume" => 0.090909,
                        "offset" => 40.00,
                        "item" => "entertainment-ctr-large"
                    ],
                    [
                        "name" => "Entertainment Center (small)",
                        "volume" => 0.066667,
                        "offset" => 20.00,
                        "item" => "entertainment-ctr-small"
                    ],
                    [
                        "name" => "Table",
                        "volume" => 0.076923,
                        "offset" => 20.00,
                        "item" => "table"
                    ]
                ]
            ],
            [
                "name" => "Electronics",
                "item" => "electronics",
                "items" => [
                    [
                        "name" => "Computer",
                        "volume" => 0.030303,
                        "offset" => 0.00,
                        "item" => "computer"
                    ],
                    [
                        "name" => "Fax",
                        "volume" => 0.030303,
                        "offset" => 0.00,
                        "item" => "printer"
                    ],
                    [
                        "name" => "Printer",
                        "volume" => 0.030303,
                        "offset" => 0.00,
                        "item" => "printer"
                    ],
                    [
                        "name" => "TV (large, 32\"+)",
                        "volume" => 0.076923,
                        "offset" => 10.00,
                        "item" => "tv"
                    ],
                    [
                        "name" => "TV (small)",
                        "volume" => 0.030303,
                        "offset" => 0.00,
                        "item" => "tv"
                    ]
                ]
            ],
            [
                "name" => "Appliances",
                "item" => "appliances",
                "items" => [
                    [
                        "name" => "Dryer",
                        "volume" => 0.076923,
                        "offset" => 10.00,
                        "item" => "largeappliance"
                    ],
                    [
                        "name" => "Grill / BBQ",
                        "volume" => 0.066667,
                        "offset" => 10.00,
                        "item" => "bbqgrill"
                    ],
                    [
                        "name" => "Refrigerator",
                        "volume" => 0.100000,
                        "offset" => 20.00,
                        "item" => "largeappliance"
                    ],
                    [
                        "name" => "Stove",
                        "volume" => 0.076923,
                        "offset" => 10.00,
                        "item" => "largeappliance"
                    ],
                    [
                        "name" => "Washer",
                        "volume" => 0.076923,
                        "offset" => 40.00,
                        "item" => "largeappliance"
                    ]
                ]
            ],
            [
                "name" => "Mattresses",
                "item" => "Mattresses",
                "items" => [
                    [
                        "name" => "Queen/King Boxspring",
                        "volume" => 0.076923,
                        "offset" => 30.00,
                        "item" => "queenbed"
                    ],
                    [
                        "name" => "Queen/King Mattress",
                        "volume" => 0.076923,
                        "offset" => 20.00,
                        "item" => "queenbed"
                    ],
                    [
                        "name" => "Twin/Full Boxspring",
                        "volume" => 0.066667,
                        "offset" => 0.00,
                        "item" => "twinbed"
                    ],
                    [
                        "name" => "Twin/Full Mattress",
                        "volume" => 0.066667,
                        "offset" => 10.00,
                        "item" => "twinbed"
                    ]
                ]
            ],
            [
                "name" => "Miscellaneous",
                "item" => "miscellaneous",
                "items" => [
                    [
                        "name" => "Bike",
                        "volume" => 0.018868,
                        "offset" => 0.00,
                        "item" => "bicycle"
                    ],
                    [
                        "name" => "Black Garbage Bag",
                        "volume" => 0.018868,
                        "offset" => -20.00,
                        "item" => "largebox"
                    ],
                    [
                        "name" => "Exercise Machine",
                        "volume" => 0.076923,
                        "offset" => 40.00,
                        "item" => "exercisemachine"
                    ],
                    [
                        "name" => "Hot Tub (10-person)",
                        "volume" => 0.751880,
                        "offset" => 80.00,
                        "item" => "hot-tub"
                    ],
                    [
                        "name" => "Hot Tub (6-person)",
                        "volume" => 0.625000,
                        "offset" => 50.00,
                        "item" => "hot-tub"
                    ],
                    [
                        "name" => "Lawn Mower",
                        "volume" => 0.076923,
                        "offset" => 0.00,
                        "item" => "lawnmower"
                    ],
                    [
                        "name" => "Moving Box (L-XL)",
                        "volume" => 0.030303,
                        "offset" => 20.00,
                        "item" => "largebox"
                    ],
                    [
                        "name" => "Moving Box (S-M)",
                        "volume" => 0.018868,
                        "offset" => -20.00,
                        "item" => "largebox"
                    ],
                    [
                        "name" => "Piano (Grand)",
                        "volume" => 1.000000,
                        "offset" => 80.00,
                        "item" => "piano-grand"
                    ],
                    [
                        "name" => "Piano (Upright)",
                        "volume" => 0.333333,
                        "offset" => 60.00,
                        "item" => "piano-upright"
                    ],
                    [
                        "name" => "Riding Lawn Mower",
                        "volume" => 0.166667,
                        "offset" => 0.00,
                        "item" => "lawnmower"
                    ],
                    [
                        "name" => "Tool Chest",
                        "volume" => 0.018868,
                        "offset" => -20.00,
                        "item" => "toolchest"
                    ]
                ]
            ]
        ],
        "Price_Range" => [
            "Low" => 30.00,
            "High" => 60.00
        ]
    ];

    // $data = json_decode($_POST['data']);
    // echo json_encode($data["zip_code"]);

    if(isset($_POST['zip_code'])){
        $data = json_decode($_POST['zip_code']);
        // Check area is covered or not
        if(isset($covered_area[$data])){
            echo json_encode($price);
        }
        else{
            echo json_encode(
                [
                    "status" => "not found"
                ]
            );
        }
    }
    else{
        echo "Page Not Found";
    }
?> 